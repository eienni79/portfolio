var $d = jQuery.noConflict();$d(function(){$d('#navi_p').droppy({speed: 100});});$d(function(){$d('#tree_category').droppy({speed: 50, trigger: 'click'});});$d(function(){$d('#month_tree').droppy({speed: 50, trigger: 'click'});});$d(function(){$d('#month_tree_btm').droppy({speed: 50, trigger: 'click'});});$d(function(){$d('#nav').droppy({speed: 100, trigger: 'click'});});$d(function(){$d('.tree_category').droppy({speed: 100, trigger: 'click'});});$d(function(){$d('.btns').droppy({speed: 200});});$d(function(){$d('.navibtn').droppy({speed: 200});});(function($d){$d.fn.droppy=function(options){options=$d.extend({speed: 250,className: 'droppy',trigger: 'hover'},options ||{});this.each(function(){var root=this,zIndex=1000;$d(root).addClass(options.className);$d(root).find('li:has(> ul) > a').addClass('has-subnav');function getSubnav(ele){if (ele.nodeName.toLowerCase()=='li'){var subnav=$d('> ul',ele);return subnav.length ? subnav[0]:null;}else{return ele;}};function getActuator(ele){if (ele.nodeName.toLowerCase()=='ul'){return $d(ele).parents('li')[0];}else{return ele;}};function hide(){var subnav=getSubnav(this);if (!subnav){return;}$d.data(subnav,'cancelHide',false);setTimeout(function(){if (!$d.data(subnav,'cancelHide')){$d(subnav).slideUp(options.speed);}},500);};function show(){var subnav=getSubnav(this);if (!subnav) return;$d.data(subnav,'cancelHide',true);$d(subnav).css({zIndex: zIndex++}).slideDown(options.speed);if (this.nodeName.toLowerCase()=='ul'){var li=getActuator(this);$d(li).addClass('hover');$d('> a',li).addClass('hover');}return false;};if (options.trigger=='click'){$d('> li',this).click(function(evt){if (evt.target==this || evt.target.parentNode==this){show.call(this);}});$d('> li ul,> li li',this).hover(show,function(){});$d('ul,li',this).hover(function(){},hide);}else{if (typeof $d.fn.hoverIntent=='function'){$d('ul,li',this).hoverIntent($d.extend({sensitivity: 2,interval: 50,timeout: 100},options.hoverIntent ||{},{over: show,out: hide}));}else{$d('ul,li',this).hover(show,hide);}}$d('li',this).hover(function(){$d(this).addClass('hover');$d('> a',this).addClass('hover');},function(){$d(this).removeClass('hover');$d('> a',this).removeClass('hover');});});};})(jQuery);
